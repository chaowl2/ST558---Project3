[
  {
    "objectID": "eda.html",
    "href": "eda.html",
    "title": "Diabetes EDA",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(patchwork)"
  },
  {
    "objectID": "eda.html#introduction",
    "href": "eda.html#introduction",
    "title": "Diabetes EDA",
    "section": "Introduction",
    "text": "Introduction\nThis project analyzes the Diabetes Health Indicators (BRFSS 2015) dataset, which contains demographic, behavioral, and medical variables related to chronic disease risk. In this EDA, I focus on variables that may help explain or predict diabetes status, including age category, BMI, physical activity, general health ratings, smoking history, and indicators of high blood pressure or high cholesterol.\nThe purpose of this EDA is to understand the structure of the data, explore important predictors of the Diabetes_binary outcome, and identify relationships and patterns that will guide the modeling process. These insights will guide the modeling process, where the ultimate goal is to build and select an accurate predictive model for classifying whether an individual has diabetes."
  },
  {
    "objectID": "eda.html#data",
    "href": "eda.html#data",
    "title": "Diabetes EDA",
    "section": "Data",
    "text": "Data\n\nRead data + convert to lowercase\n\ndata <- read_csv(\"data/diabetes_binary_health_indicators_BRFSS2015.csv\") |>\nclean_names()\n\nRows: 253680 Columns: 22\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (22): Diabetes_binary, HighBP, HighChol, CholCheck, BMI, Smoker, Stroke,...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n#head(data)/\ncolSums(is.na(data))\n\n       diabetes_binary                high_bp              high_chol \n                     0                      0                      0 \n            chol_check                    bmi                 smoker \n                     0                      0                      0 \n                stroke heart_diseaseor_attack          phys_activity \n                     0                      0                      0 \n                fruits                veggies    hvy_alcohol_consump \n                     0                      0                      0 \n        any_healthcare          no_docbc_cost               gen_hlth \n                     0                      0                      0 \n             ment_hlth              phys_hlth              diff_walk \n                     0                      0                      0 \n                   sex                    age              education \n                     0                      0                      0 \n                income \n                     0 \n\n\n\n\nConvert some variables to factors and give meaningful labels\n\ndata <- data |>\nmutate(\ndiabetes_binary = factor(diabetes_binary, levels = c(0, 1),\nlabels = c(\"No_Diabetes\", \"Diabetes\")),\nhigh_bp  = factor(high_bp,  levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nhigh_chol = factor(high_chol, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nchol_check = factor(chol_check, level = c(0,1), labels = c(\"No\", \"Yes\")),\nsmoker = factor(smoker, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nstroke = factor(stroke, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nheart_diseaseor_attack = factor(heart_diseaseor_attack, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nphys_activity = factor(phys_activity, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nfruits = factor(fruits, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nveggies = factor(veggies, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nhvy_alcohol_consump = factor(hvy_alcohol_consump, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nany_healthcare = factor(any_healthcare, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nno_docbc_cost = factor(no_docbc_cost, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\ngen_hlth <- factor(\n  gen_hlth,\n  levels = 1:5,\n  labels = c(\"Excellent\", \"Very Good\", \"Good\", \"Fair\", \"Poor\")\n),\ndiff_walk = factor(diff_walk, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\nsex = factor(sex, levels = c(0, 1), labels = c(\"Female\", \"Male\")),\neducation <- factor(\n  education,\n  levels = 1:6,\n  labels = c(\n    \"K-8\",\n    \"Grades 1-8\",\n    \"Grades 9-11\",\n    \"High School / GED\",\n    \"Some College\",\n    \"College Graduate\"\n  )\n),\nincome <- factor(\n  income,\n  levels = 1:8,\n  labels = c(\n    \"<10k\",\n    \"10-15k\",\n    \"15-20k\",\n    \"20-25k\",\n    \"25-35k\",\n    \"35-50k\",\n    \"50-75k\",\n    \"75k+\"\n  )\n),\nage = factor(\n      age,\n      levels = 1:13,\n      labels = c(\n        \"18–24\", \"25–29\", \"30–34\", \"35–39\",\n        \"40–44\", \"45–49\", \"50–54\", \"55–59\",\n        \"60–64\", \"65–69\", \"70–74\", \"75–79\",\n        \"80+\"\n      )\n)\n)\n\n\n\nCheck for Missing Values\n\ndata |>\nsummarise(across(everything(), ~ sum(is.na(.)))) |>\npivot_longer(everything(), names_to = \"variable\", values_to = \"n_missing\") |>\narrange(desc(n_missing))\n\n# A tibble: 23 × 2\n   variable               n_missing\n   <chr>                      <int>\n 1 diabetes_binary                0\n 2 high_bp                        0\n 3 high_chol                      0\n 4 chol_check                     0\n 5 bmi                            0\n 6 smoker                         0\n 7 stroke                         0\n 8 heart_diseaseor_attack         0\n 9 phys_activity                  0\n10 fruits                         0\n# ℹ 13 more rows\n\n\nNull Values do not exist in the data.\n\n\nExploring Data using visualizations\n\ndata %>%\n  select(bmi, ment_hlth, phys_hlth) %>%\n  summary()\n\n      bmi          ment_hlth        phys_hlth     \n Min.   :12.00   Min.   : 0.000   Min.   : 0.000  \n 1st Qu.:24.00   1st Qu.: 0.000   1st Qu.: 0.000  \n Median :27.00   Median : 0.000   Median : 0.000  \n Mean   :28.38   Mean   : 3.185   Mean   : 4.242  \n 3rd Qu.:31.00   3rd Qu.: 2.000   3rd Qu.: 3.000  \n Max.   :98.00   Max.   :30.000   Max.   :30.000  \n\n# Histograms\ndata %>%\n  select(bmi, ment_hlth, phys_hlth) %>%\n  pivot_longer(everything(), names_to = \"variable\", values_to = \"value\") %>%\n  ggplot(aes(x = value)) +\n  geom_histogram(bins = 30) +\n  facet_wrap(~ variable, scales = \"free_x\") +\n  labs(\n    x = NULL,\n    y = \"Count\",\n    title = \"Distributions of numeric health indicators\"\n  )\n\n\n\n\nBMI is right-skewed with most individuals falling between 25 and 35. This suggests obesity may be a relevant predictor for diabetes, which aligns with medical expectations.\nMental health days show a heavy spike at 0 (most people report no poor mental health days) and a smaller spike at 30. This creates a highly skewed distribution, but this variable may still capture stress or chronic mental health conditions that relate to diabetes risk.\nPhysical health days follow the same pattern as mental health days: most respondents report 0 physically unhealthy days, with another cluster at 30 days. This variable is extremely right-skewed but may help uncover chronic illness patterns contributing to diabetes.\n\ndata %>%\n  group_by(diabetes_binary) %>%\n  summarise(\n    mean_bmi = mean(bmi, na.rm = TRUE),\n    median_bmi = median(bmi, na.rm = TRUE),\n    sd_bmi = sd(bmi, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\n# A tibble: 2 × 4\n  diabetes_binary mean_bmi median_bmi sd_bmi\n  <fct>              <dbl>      <dbl>  <dbl>\n1 No_Diabetes         27.8         27   6.29\n2 Diabetes            31.9         31   7.36\n\nggplot(data, aes(x = diabetes_binary, y = bmi)) +\n  geom_boxplot() +\n  labs(\n    x = \"Diabetes status\",\n    y = \"BMI\",\n    title = \"BMI distribution by diabetes status\"\n  )\n\n\n\n\nIndividuals with diabetes show a higher median BMI and more high-BMI outliers compared to those without diabetes. This indicates that higher BMI is associated with diabetes and will likely be an important predictor in the modeling stage.\n\n\nCategorical predictors vs Diabetes\n\ndata %>%\n  count(gen_hlth, diabetes_binary) %>%\n  group_by(gen_hlth) %>%\n  mutate(prop = n / sum(n)) %>%\n  ggplot(aes(x = gen_hlth, y = prop, fill = diabetes_binary)) +\n  geom_col(position = \"fill\") +\n  scale_y_continuous(labels = percent) +\n  labs(\n    x = \"General health\",\n    y = \"Proportion within health category\",\n    fill = \"Diabetes status\",\n    title = \"Proportion with diabetes across general health levels\"\n  )\n\n\n\n\nDiabetes becomes increasingly common as general health worsens. Individuals reporting “Fair” or “Poor” health show a much higher proportion of diabetes compared to those in excellent or very good health, suggesting that overall health status is strongly related to diabetes risk.\n\n\nPhysical Activity vs Diabetes\n\ndata %>%\n  count(phys_activity, diabetes_binary) %>%\n  group_by(phys_activity) %>%\n  mutate(prop = n / sum(n)) %>%\n  ggplot(aes(x = phys_activity, y = prop, fill = diabetes_binary)) +\n  geom_col(position = \"fill\") +\n  scale_y_continuous(labels = percent) +\n  labs(\n    x = \"Any physical activity in past 30 days?\",\n    y = \"Proportion within activity group\",\n    fill = \"Diabetes status\",\n    title = \"Diabetes prevalence by physical activity\"\n  )\n\n\n\n\nPeople who report no physical activity have a noticeably higher proportion of diabetes compared to those who were physically active in the past 30 days. This indicates that lack of physical activity is associated with a higher likelihood of diabetes.\n\n\nEducation and Income vs Diabetes\n\n# Education\np_edu <- data %>%\n  count(education, diabetes_binary) %>%\n  group_by(education) %>%\n  mutate(prop = n / sum(n)) %>%\n  ggplot(aes(x = education, y = prop, fill = diabetes_binary)) +\n  geom_col(position = \"fill\") +\n  scale_y_continuous(labels = percent) +\n  labs(\n    x = \"Education level\",\n    y = \"Proportion within education group\",\n    fill = \"Diabetes status\",\n    title = \"Diabetes prevalence by education\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n# Income\np_inc <- data %>%\n  count(income, diabetes_binary) %>%\n  group_by(income) %>%\n  mutate(prop = n / sum(n)) %>%\n  ggplot(aes(x = income, y = prop, fill = diabetes_binary)) +\n  geom_col(position = \"fill\") +\n  scale_y_continuous(labels = percent) +\n  labs(\n    x = \"Income level\",\n    y = \"Proportion within income group\",\n    fill = \"Diabetes status\",\n    title = \"Diabetes prevalence by income\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\np_edu\n\n\n\np_inc\n\n\n\n\nDiabetes prevalence decreases as education level increases. Individuals with the lowest education levels show the highest proportion of diabetes, while those with college-level education have much lower rates, suggesting education is inversely related to diabetes risk.\nHigher income levels are associated with lower diabetes prevalence. The lowest income groups show the highest proportion of diabetes, and the rate steadily declines as income increases, indicating a clear negative relationship between income and diabetes risk.\n\n\nChecking other Binary Variables\n\nbinary_vars <- c(\n  \"high_bp\", \"high_chol\", \"chol_check\",\n  \"smoker\", \"stroke\", \"heart_diseaseor_attack\",\n  \"fruits\", \"veggies\", \"hvy_alcohol_consump\"\n)\n\n# Counts and proportions\ndata %>%\n  select(all_of(binary_vars)) %>%\n  summarise(across(everything(), ~ mean(. == \"Yes\") * 100)) %>%\n  pivot_longer(everything(),\n               names_to = \"variable\",\n               values_to = \"percent_yes\")\n\n# A tibble: 9 × 2\n  variable               percent_yes\n  <chr>                        <dbl>\n1 high_bp                      42.9 \n2 high_chol                    42.4 \n3 chol_check                   96.3 \n4 smoker                       44.3 \n5 stroke                        4.06\n6 heart_diseaseor_attack        9.42\n7 fruits                       63.4 \n8 veggies                      81.1 \n9 hvy_alcohol_consump           5.62\n\n\nSeveral key health risk factors are common in the dataset: about 43% of respondents report high blood pressure and 42% report high cholesterol, both of which are strongly linked to diabetes and are likely to be important predictors. Nearly 96% of individuals have had their cholesterol checked, indicating widespread screening. Smoking is also prevalent at 44%, which may contribute modestly to diabetes risk.\nStroke (4%) and heart disease or heart attack (9%)—are less common but show strong clinical ties to diabetes and could help distinguish higher-risk individuals. Lifestyle behaviors vary across respondents: 63% regularly eat fruits and 81% eat vegetables, while heavy alcohol use is relatively rare (6%). These indicators collectively provide meaningful information about metabolic health and are likely to contribute to the model’s ability to predict diabetes.\n\n\nPlotting Binary Variables\n\nplot_binary <- function(var) {\n  ggplot(data, aes_string(x = var, fill = \"diabetes_binary\")) +\n    geom_bar(position = \"fill\") +\n    scale_y_continuous(labels = scales::percent) +\n    labs(\n      x = var,\n      y = \"Proportion within group\",\n      fill = \"Diabetes status\",\n      title = paste(\"Diabetes prevalence by\", var)\n    )\n}\np_bp     <- plot_binary(\"high_bp\")\n\nWarning: `aes_string()` was deprecated in ggplot2 3.0.0.\nℹ Please use tidy evaluation idioms with `aes()`.\nℹ See also `vignette(\"ggplot2-in-packages\")` for more information.\n\np_chol   <- plot_binary(\"high_chol\")\np_check  <- plot_binary(\"chol_check\")\np_smoke  <- plot_binary(\"smoker\")\np_stroke <- plot_binary(\"stroke\")\np_hd     <- plot_binary(\"heart_diseaseor_attack\")\np_fruit  <- plot_binary(\"fruits\")\np_veg    <- plot_binary(\"veggies\")\np_alc    <- plot_binary(\"hvy_alcohol_consump\")\n\n(p_bp | p_chol | p_check) /\n(p_smoke | p_stroke | p_hd) /\n(p_fruit | p_veg | p_alc)\n\n\n\n\nAcross all binary health indicators, individuals with various health risk factors consistently show higher rates of diabetes. Diabetes prevalence is substantially higher among those with high blood pressure, high cholesterol, a history of stroke, or heart disease/heart attack, highlighting their strong clinical connection to diabetes. Smoking shows only a slight increase in diabetes prevalence, while dietary indicators (fruit and vegetable consumption) display small differences between groups. Heavy alcohol consumption appears weakly related as well. Overall, the indicators most strongly associated with diabetes are cardiovascular-related conditions, which will likely play an important role in the predictive modeling stage.\n[Click here for the Modeling Page](Modeling.html)"
  }
]